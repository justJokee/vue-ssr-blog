
# vue-ssr-blog

<center>

![vue](https://img.shields.io/badge/vue-2.x-brightgreen.svg)
![vue-router](https://img.shields.io/badge/vue--router-3.x-brightgreen.svg)
![vuex](https://img.shields.io/badge/vuex-3.x-brightgreen.svg)
![express](https://img.shields.io/badge/express-4.16.2-green.svg)
![mongodb](https://img.shields.io/badge/mongodb-5.0.2-green.svg)
![nodejs](https://img.shields.io/badge/node-14.x-green.svg)

</center>

![home](./screenShot/front-home.jpg)

## ä»‹ç»
è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ vue2.x å¼€å‘çš„ï¼Œè®°å½•å­¦ä¹ ä¸ç”Ÿæ´»çš„ [ä¸ªäººåšå®¢](https://mapblog.cn "Marcos's Blog")ã€‚
æ•´ç«™é€‰ç”¨ ssr æŠ€æœ¯è¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼Œå…·å¤‡è‰¯å¥½çš„ SEO å’Œé¦–å±æ€§èƒ½ã€‚  
åŒæ—¶ï¼Œæˆ‘ä¸ºå®ƒé…å¤‡äº†ä¸€ä¸ªä½¿ç”¨ `vue3.x`ã€`typescript`ã€`vite` å¼€å‘çš„ç®¡ç†ç³»ç»Ÿï¼Œè¯¦æƒ…è¯·ç§»æ­¥ [è¿™é‡Œ](https://github.com/justJokee/vue-blog-admin) æŸ¥çœ‹ã€‚
## æŠ€æœ¯æ ˆ
- vue2.x ssr
- vue-router
- vuex
- nodejs
- mongodb
- mongoose
- express
- pm2
- lazyload
## ä¸»è¦åŠŸèƒ½

- [x] é¦–é¡µ
  - [x] æœ€æ–°æ–‡ç« 
- [x] æ–‡ç« æœç´¢ï¼ˆé«˜äº®å…³é”®è¯ï¼‰
- [x] å¯¼èˆª
  - [x] æ–‡ç« å½’æ¡£
  - [x] æ–‡ç« æ ‡ç­¾
  - [x] æ–‡ç« åˆ†ç±»
- [x] å¨±ä¹
  - [x] ç”µå½±ï¼ˆ[çˆ¬è™«](https://github.com/justJokee/douban-spider)è·å–è±†ç“£çš„è§‚å½±è®°å½•ï¼‰
    - [x] çœ‹è¿‡çš„å½±è§†
    - [x] æƒ³çœ‹çš„å½±è§†
    - [x] åœ¨çœ‹çš„å½±è§†
- [x] ç•™è¨€æ¿
  - [x] ç•™è¨€
  - [x] ç›¸äº’å›å¤
  - [x] ç‚¹èµã€å–æ¶ˆèµï¼ˆipç»Ÿè®¡ï¼‰
- [x] æ”¯æŒ QQã€Github ç¬¬ä¸‰æ–¹ç™»å½•ï¼Œä»¥æ”¯æŒè¯„è®ºåŠç•™è¨€
- [x] æ–‡ç« ç­›é€‰
  - [x] æŒ‰æ ‡ç­¾
  - [x] æŒ‰åˆ†ç±»
  - [x] æŒ‰å½’æ¡£æ—¶é—´
- [x] æ–‡ç« ç›¸å…³
  - [x] è¯„è®º
  - [x] å›å¤è¯„è®º
  - [x] æ–‡ç« /è¯„è®ºçš„èµã€å–æ¶ˆèµï¼ˆipç»Ÿè®¡ï¼‰ 
  - [x] pvã€è¯„è®ºã€ç‚¹èµç»Ÿè®¡
  - [x] æ–‡æ¡£ç›®å½•è‡ªåŠ¨ç”Ÿæˆ
  - [x] åˆ†äº« 
- [x] å¿«æ·çœ‹æ¿
  - [x] æœ¬ç«™ç®€ä»‹
  - [x] æœ€æ–°æ–‡ç« 
  - [x] æœ€æ–°è¯„è®º 
  - [x] æ ‡ç­¾ç»Ÿè®¡
  - [x] æ–‡ç« åˆ†ç±»
  - [x] æ–‡ç« å½’æ¡£ 
- [x] å“åº”å¼
- [x] å›¾ç‰‡æ‡’åŠ è½½
- [ ] å‹é“¾ï¼ˆç•™å‘ï¼Œå¾…å¼€å‘ï¼‰
- [ ] é¦–é¡µåè¨€ç®¡ç†ï¼ˆç•™å‘ï¼Œå¾…å¼€å‘ï¼‰
- [ ] æ¢è‚¤ï¼ˆç•™å‘ï¼Œå¾…å¼€å‘ï¼‰

## forkåå¿…è¯»
åœ¨forké¡¹ç›®åï¼Œè¯·åŠ¡å¿…ä»”ç»†é˜…è¯»ä»¥ä¸‹è¯´æ˜ï¼š
### é…ç½®æ–‡ä»¶
åœ¨ `preinstall` hookä¸­ï¼Œç³»ç»Ÿå°†ä¸ºä½ è‡ªåŠ¨ç”Ÿæˆä¸€ä»½é»˜è®¤çš„é…ç½®æ–‡ä»¶è‡³ `/server/db/secret.js`ï¼Œå®ƒæ¶µç›–äº†æ•°æ®åº“ã€ç®¡ç†ç³»ç»Ÿã€ä¸‰æ–¹ç™»å½•ã€ä¸ƒç‰›äº‘ç­‰é‡è¦é…ç½®ä¿¡æ¯ï¼Œä»¥ç¡®ä¿æœ¬é¡¹ç›®æ­£å¸¸å¯åŠ¨ï¼Œæ­¤æ–‡ä»¶è¿›è¡Œäº†è¯¦ç»†æ³¨é‡Šï¼Œå› æ­¤ä½ å¯ä»¥åœ¨é¡¹ç›®å¯åŠ¨å‰æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ã€‚ 
### ä¾èµ–
1. å®‰è£…mongodbï¼Œæ¨è5.xç‰ˆæœ¬
2. mongodbä¸­åˆ›å»ºåä¸º`/server/db/secret.js[db.db]`ï¼ˆé»˜è®¤é…ç½®ä¸º â€œblogâ€ï¼‰çš„æ•°æ®åº“
3. mongodbä¸­åˆ›å»ºç”¨æˆ·ä¸º`/server/db/secret.js[db.user/pwd]`ï¼ˆé»˜è®¤é…ç½®ä¸º â€œadmin 12345â€ï¼‰
4. è¿è¡Œæ—¶nodeç‰ˆæœ¬æ¨è 14.x,å®æµ‹16.xå®‰è£…ä¾èµ–ä¼šå¤±è´¥ï¼Œåˆæ­¥è§‚å¯Ÿä¸ºnode-sassç‰ˆæœ¬å…¼å®¹é—®é¢˜ï¼Œå› æ—¶é—´åŸå› ç›®å‰ä¸æ‰“ç®—æ’æŸ¥å‡çº§ï¼Œå»ºè®®ç›´æ¥å®‰è£…nvmç®¡ç†å·¥å…·å¯¹nodeç‰ˆæœ¬è¿›è¡Œçµæ´»åˆ‡æ¢ã€‚

## Build Setup
å…³äºéƒ¨ç½²è‡³ç”Ÿäº§ç¯å¢ƒçš„è¯¦ç»†æ•™ç¨‹ï¼Œè¯·æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://mapblog.cn/app/article/7)

```bash
# install dependencies

npm install

# serve with hot reload at localhost:6180

npm run dev

# build for production with minification

# æ³¨æ„ï¼Œæ­¤å‘½ä»¤è¾“å‡ºç”Ÿäº§åŒ…è‡³ dist ç›®å½•ï¼Œéƒ¨ç½²æ—¶å°† dist ä¸‹ çš„æ‰€æœ‰ç›®å½•ä¸Šä¼ è‡³ä½ çš„é™æ€æœåŠ¡ç›®å½•ï¼Œä¾‹å¦‚ /usr/local/nginx/htmls

npm run build

# serve for production
# æ³¨æ„ï¼Œå¦‚æœä½ æƒ³åœ¨æœ¬åœ°è¯•è¿è¡Œç”Ÿäº§åŒ…ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

cd dist
npm run start:local

# åœ¨ç”Ÿäº§æœåŠ¡å™¨çš„é™æ€æœåŠ¡ç›®å½•ä¸­

npm i

# ç›´æ¥ä½¿ç”¨nodeå¯åŠ¨

npm run start

# ä½¿ç”¨pm2å¯åŠ¨

npm i pm2 -g
npm run pm2:prod

# æŸ¥çœ‹éƒ¨ç½²ç›¸å…³ä¿¡æ¯

pm2 show mapblog

```
## é¢„è§ˆ

### é¦–é¡µ
![home](./screenShot/front-home.jpg)
### æœç´¢
![home](./screenShot/front-search.jpg)
### æ–‡ç« è¯¦æƒ…
![article-1](./screenShot/front-article-1.jpg)

![article-2](./screenShot/front-article-2.jpg)
### ç•™è¨€æ¿
![leavewords](./screenShot/front-leavewords-1.jpg)

![leavewords](./screenShot/front-leavewords-2.jpg)
### ç”µå½±
![movies](./screenShot/front-movies-1.jpg)

![movies](./screenShot/front-movies-2.jpg)
### å½’æ¡£
![archives](./screenShot/front-archive-1.jpg)

![archives](./screenShot/front-archive-2.jpg)
### æ ‡ç­¾
![tag](./screenShot/front-tag.png)
### åˆ†ç±»
![category](./screenShot/front-category.jpg)

## å…¶å®ƒ

1. æ–‡ç« ã€è¯„è®ºã€ç•™è¨€çš„ç‚¹èµæŒ‰ç…§å®¢æˆ·ç«¯ipè¿›è¡Œç»Ÿè®¡
2. è¯„è®ºã€ç•™è¨€å…·å¤‡ä¸€å®šçš„é¢‘ç‡é™åˆ¶
3. çˆ¬è™«å›ºå®šæ¯å¤©å‡Œæ™¨ä¸€ç‚¹å¼€å§‹åŒæ­¥è±†ç“£ä¸Šçš„ç›¸å…³æ•°æ®
4. çˆ¬è™«è·å–çš„æ•°æ®ä»¥jsonæ ¼å¼å­˜å‚¨è‡³ /server/files/movies
5. Githubç™»å½•æœ‰æ—¶ä¼šå¤±è´¥ï¼ŒğŸ˜Œ ~ å¢™ä½ å¤ªé«˜
6. æç½®å¼€å‘ï¼šå‹é“¾åŠŸèƒ½
7. æç½®å¼€å‘ï¼šé¦–é¡µåè¨€åŠŸèƒ½çš„åç«¯ç®¡æ§
8. æç½®å¼€å‘ï¼šä¸»é¢˜åˆ‡æ¢

## ç‰¹åˆ«è‡´è°¢

æœ¬ç«™å‰å°å±•ç¤ºç«¯çš„UIé£æ ¼å‚è€ƒè‡ª [hexo](https://hexo.io/zh-cn/) åšå®¢ çš„ [butterfly](https://github.com/jerryc127/hexo-theme-butterfly) ä¸»é¢˜ï¼Œç‰¹æ­¤è‡´è°¢ã€‚

æœ€åçš„æœ€åï¼Œå¦‚æœä½ å–œæ¬¢è¿™ä¸ªé¡¹ç›®ï¼Œä¸å¦¨staré¼“åŠ±ä¸€ä¸‹~